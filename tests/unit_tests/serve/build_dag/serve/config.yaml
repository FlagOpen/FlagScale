root_path: tests/unit_tests/serve/build_dag                                                                                                                                             

deploy:
  models:
    A:
      module: main
      entrypoint: model_A
      resources:
        num_gpus: 1
    B:
      module: main
      depends:
        - A
      entrypoint: model_B
      resources:
        num_gpus: 1
    C:
      module: custom.models
      depends: 
        - A
      entrypoint: model_C
      resources:
        num_gpus: 1
    D:
      module: custom.models
      depends:
        - B
        - C
      entrypoint: model_D
      resources:
        num_gpus: 1

  service:
    name: /generate
    port: 8000
    request:
      prompt: str
