diff --git a/vllm/engine/output_processor/single_step.py b/vllm/engine/output_processor/single_step.py
index dbf6a371d..b30191230 100644
--- a/vllm/engine/output_processor/single_step.py
+++ b/vllm/engine/output_processor/single_step.py
@@ -129,6 +129,12 @@ class SingleStepOutputProcessor(SequenceGroupOutputProcessor):
         if not is_async:
             seq.append_token_id(sample.output_token, sample.logprobs,
                                 sample.output_embed)
+            # --- FLAGSCALE MODIFICATION BEG ---
+            if seq_group.has_negative_seqs():
+                negative_seq = seq_group.negative_seqs[0]
+                negative_seq.append_token_id(sample.output_token, sample.logprobs,
+                                             sample.output_embed)
+            # --- FLAGSCALE MODIFICATION END ---
         if sampling_params.detokenize and self.detokenizer:
             new_char_count = self.detokenizer.decode_sequence_inplace(
                 seq, sampling_params)
