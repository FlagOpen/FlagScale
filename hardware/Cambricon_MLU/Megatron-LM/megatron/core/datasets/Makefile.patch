diff --git a/megatron/core/datasets/Makefile b/megatron/core/datasets/Makefile
index e745f5239..415739e09 100644
--- a/megatron/core/datasets/Makefile
+++ b/megatron/core/datasets/Makefile
@@ -1,8 +1,10 @@
+#NOTE(mlu): change the way of compilation
 CXXFLAGS += -O3 -Wall -shared -std=c++11 -fPIC -fdiagnostics-color
-CPPFLAGS += $(shell python3 -m pybind11 --includes)
+CPPFLAGS += $(shell python -m pybind11 --includes)
 
 LIBNAME = helpers_cpp
-LIBEXT = $(shell python3-config --extension-suffix)
+#LIBEXT = $(shell python3-config --extension-suffix)
+LIBEXT = .so
 
 OUT = $(LIBNAME)$(LIBEXT)
 SRC = helpers.cpp
@@ -11,3 +13,4 @@ default: $(OUT)
 
 $(OUT): $(SRC)
 	$(CXX) $(CXXFLAGS) $(CPPFLAGS) $< -o $@
+

